{"version":3,"file":"SignUp-BWVhstuP.js","sources":["../../src/pages/SignUp.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../context/AuthContext.jsx\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst SignUp = () => {\r\n  const navigate = useNavigate();\r\n  const { user, setUser, Loading } = useAuth();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);\r\n    const data = Object.fromEntries(formData);\r\n\r\n    if (\r\n      !data.firstName ||\r\n      !data.lastName ||\r\n      !data.email ||\r\n      !data.password ||\r\n      !data.confirmPassword\r\n    ) {\r\n      alert(\"All fields are required\");\r\n      return;\r\n    }\r\n\r\n    if (data.password !== data.confirmPassword) {\r\n      alert(\"Passwords do not match\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        `${import.meta.env.VITE_API_URL}/auth/register`,\r\n        data,\r\n        {\r\n          withCredentials: true, // Ensure cookies are sent with the request\r\n        }\r\n      );\r\n      if (response) {\r\n        setUser(response.data.user);\r\n        navigate(`/${response.data.user.firstName.toLowerCase()}`); // Redirect to user's home page\r\n        toast.success(\"Sign up successful!\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to sign up:\", error);\r\n      toast.error(\"Sign up failed. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"signup\">\r\n      <h2 className=\"text-3xl font-extrabold\">Sign up</h2>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          className=\"border outline-none p-1 px-4 h-10 rounded-md mt-5 w-full focus:ring-offset-0 focus:ring-2 focus:ring-green-400 transition-all\"\r\n          type=\"text\"\r\n          placeholder=\"First Name\"\r\n          name=\"firstName\"\r\n          required\r\n        />\r\n        <input\r\n          className=\"border outline-none p-1 px-4 h-10 rounded-md mt-5 w-full focus:ring-offset-0 focus:ring-2 focus:ring-green-400 transition-all\"\r\n          type=\"text\"\r\n          placeholder=\"Last Name\"\r\n          name=\"lastName\"\r\n          required\r\n        />\r\n        <input\r\n          className=\"border outline-none p-1 px-4 h-10 rounded-md mt-5 w-full focus:ring-offset-0 focus:ring-2 focus:ring-green-400 transition-all\"\r\n          type=\"email\"\r\n          placeholder=\"example@gmail.com\"\r\n          name=\"email\"\r\n          required\r\n        />\r\n        <input\r\n          className=\"border outline-none p-1 px-4 h-10 rounded-md mt-5 w-full focus:ring-offset-0 focus:ring-2 focus:ring-green-400 transition-all\"\r\n          type=\"password\"\r\n          placeholder=\"**************\"\r\n          name=\"password\"\r\n          required\r\n        />\r\n        <input\r\n          className=\"border outline-none p-1 px-4 h-10 rounded-md mt-5 w-full focus:ring-offset-0 focus:ring-2 focus:ring-green-400 transition-all\"\r\n          type=\"password\"\r\n          placeholder=\"**************\"\r\n          name=\"confirmPassword\"\r\n          required\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"bg-btn dark:text-black w-full py-2 rounded-lg mt-5 hover:bg-btn/80 cursor-pointer transition-all duration-300\"\r\n        >\r\n          Sign up\r\n        </button>\r\n      </form>\r\n\r\n      <p className=\"mt-5\">\r\n        Aleady have an account?{\" \"}\r\n        <Link className=\"underline text-btn\" to=\"/login\">\r\n          Login\r\n        </Link>\r\n      </p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n"],"names":["SignUp","navigate","useNavigate","user","setUser","Loading","useAuth","handleSubmit","e","formData","data","response","axios","toast","error","jsxs","jsx","Link"],"mappings":"2EAOA,MAAMA,EAAS,IAAM,CACnB,MAAMC,EAAWC,EAAA,EACX,CAAE,KAAAC,EAAM,QAAAC,EAAS,QAAAC,CAAA,EAAYC,EAAA,EAE7BC,EAAe,MAAOC,GAAM,CAChCA,EAAE,eAAA,EACF,MAAMC,EAAW,IAAI,SAASD,EAAE,MAAM,EAChCE,EAAO,OAAO,YAAYD,CAAQ,EAExC,GACE,CAACC,EAAK,WACN,CAACA,EAAK,UACN,CAACA,EAAK,OACN,CAACA,EAAK,UACN,CAACA,EAAK,gBACN,CACA,MAAM,yBAAyB,EAC/B,MAAA,CAGF,GAAIA,EAAK,WAAaA,EAAK,gBAAiB,CAC1C,MAAM,wBAAwB,EAC9B,MAAA,CAGF,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAM,KAC3B,0CACAF,EACA,CACE,gBAAiB,EAAA,CACnB,EAEEC,IACFP,EAAQO,EAAS,KAAK,IAAI,EAC1BV,EAAS,IAAIU,EAAS,KAAK,KAAK,UAAU,YAAA,CAAa,EAAE,EACzDE,EAAM,QAAQ,qBAAqB,EACrC,OACOC,EAAO,CACd,QAAQ,MAAM,qBAAsBA,CAAK,EACzCD,EAAM,MAAM,mCAAmC,CAAA,CACjD,EAGF,OACEE,EAAAA,KAAC,UAAA,CAAQ,UAAU,SACjB,SAAA,OAAC,KAAA,CAAG,UAAU,0BAA0B,SAAA,UAAO,EAE/CA,EAAAA,KAAC,OAAA,CAAK,SAAUR,EACd,SAAA,CAAAS,EAAAA,IAAC,QAAA,CACC,UAAU,gIACV,KAAK,OACL,YAAY,aACZ,KAAK,YACL,SAAQ,EAAA,CAAA,EAEVA,EAAAA,IAAC,QAAA,CACC,UAAU,gIACV,KAAK,OACL,YAAY,YACZ,KAAK,WACL,SAAQ,EAAA,CAAA,EAEVA,EAAAA,IAAC,QAAA,CACC,UAAU,gIACV,KAAK,QACL,YAAY,oBACZ,KAAK,QACL,SAAQ,EAAA,CAAA,EAEVA,EAAAA,IAAC,QAAA,CACC,UAAU,gIACV,KAAK,WACL,YAAY,iBACZ,KAAK,WACL,SAAQ,EAAA,CAAA,EAEVA,EAAAA,IAAC,QAAA,CACC,UAAU,gIACV,KAAK,WACL,YAAY,iBACZ,KAAK,kBACL,SAAQ,EAAA,CAAA,EAEVA,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,gHACX,SAAA,SAAA,CAAA,CAED,EACF,EAEAD,EAAAA,KAAC,IAAA,CAAE,UAAU,OAAO,SAAA,CAAA,0BACM,UACvBE,EAAA,CAAK,UAAU,qBAAqB,GAAG,SAAS,SAAA,OAAA,CAEjD,CAAA,EACF,CAAA,EACF,CAEJ"}